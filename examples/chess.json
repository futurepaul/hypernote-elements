{
  "version": "1.1.0",
  "component_kind": null,
  "elements": [
    {
      "type": "h1",
      "content": [
        "♟️ Chess"
      ]
    },
    {
      "type": "div",
      "elements": [
        {
          "type": "p",
          "content": [
            {
              "type": "strong",
              "content": [
                "Debug FEN"
              ]
            },
            ": ",
            "{$chess_fen}",
            " "
          ]
        }
      ],
      "style": {
        "marginTop": "1rem",
        "fontSize": "0.875rem",
        "color": "rgb(75,85,99)"
      }
    },
    {
      "type": "component",
      "alias": "chess_board",
      "argument": ""
    },
    {
      "type": "form",
      "elements": [
        {
          "type": "div",
          "elements": [
            {
              "type": "input",
              "content": [],
              "attributes": {
                "name": "move",
                "placeholder": "Enter move (e.g., e4, Nf3, O-O)"
              },
              "style": {
                "padding": "0.5rem",
                "borderWidth": "1px",
                "borderRadius": "0.25rem"
              }
            },
            {
              "type": "button",
              "elements": [
                {
                  "type": "p",
                  "content": [
                    "Make Move"
                  ]
                }
              ],
              "style": {
                "backgroundColor": "rgb(59,130,246)",
                "color": "rgb(255,255,255)",
                "paddingLeft": "1.5rem",
                "paddingRight": "1.5rem",
                "paddingTop": "0.5rem",
                "paddingBottom": "0.5rem",
                "borderRadius": "0.25rem",
                "fontWeight": 700
              }
            }
          ],
          "style": {
            "display": "flex",
            "gap": "0.5rem"
          }
        }
      ],
      "event": "@make_move"
    },
    {
      "type": "form",
      "elements": [
        {
          "type": "button",
          "elements": [
            {
              "type": "p",
              "content": [
                "New Game"
              ]
            }
          ],
          "style": {
            "backgroundColor": "rgb(34,197,94)",
            "color": "rgb(255,255,255)",
            "paddingLeft": "1rem",
            "paddingRight": "1rem",
            "paddingTop": "0.5rem",
            "paddingBottom": "0.5rem",
            "borderRadius": "0.25rem",
            "marginTop": "0.5rem"
          }
        }
      ],
      "event": "@new_game"
    },
    {
      "type": "h2",
      "content": [
        "How to Play"
      ]
    },
    {
      "type": "div",
      "elements": [
        {
          "type": "p",
          "content": [
            "- ",
            {
              "type": "strong",
              "content": [
                "Pawns"
              ]
            },
            ": ",
            {
              "type": "code",
              "content": [
                "e4"
              ]
            },
            ", ",
            {
              "type": "code",
              "content": [
                "d5"
              ]
            },
            ", ",
            {
              "type": "code",
              "content": [
                "exd5"
              ]
            },
            " ",
            "- ",
            {
              "type": "strong",
              "content": [
                "Pieces"
              ]
            },
            ": ",
            {
              "type": "code",
              "content": [
                "Nf3"
              ]
            },
            ", ",
            {
              "type": "code",
              "content": [
                "Bxe5"
              ]
            },
            ", ",
            {
              "type": "code",
              "content": [
                "Qd8"
              ]
            },
            "  ",
            "- ",
            {
              "type": "strong",
              "content": [
                "Castling"
              ]
            },
            ": ",
            {
              "type": "code",
              "content": [
                "O-O"
              ]
            },
            " (kingside), ",
            {
              "type": "code",
              "content": [
                "O-O-O"
              ]
            },
            " (queenside)",
            " ",
            "- ",
            {
              "type": "strong",
              "content": [
                "Check/Checkmate"
              ]
            },
            ": Add ",
            {
              "type": "code",
              "content": [
                "+"
              ]
            },
            " or ",
            {
              "type": "code",
              "content": [
                "#"
              ]
            },
            " "
          ]
        }
      ],
      "style": {
        "marginTop": "1rem",
        "padding": "1rem",
        "backgroundColor": "rgb(243,244,246)",
        "borderRadius": "0.25rem"
      }
    }
  ],
  "type": "hypernote",
  "title": "Chess",
  "description": "Play chess with hypermedia UI from MCP server",
  "name": "chess",
  "queries": {
    "$chess_fen": {
      "kinds": [
        30078
      ],
      "authors": [
        "2e6ad883d5a134a6fb3f0de9063ab170deeb805592bba90ac7351cf3920bbbd0"
      ],
      "#d": [
        "chess-fen"
      ],
      "limit": 1,
      "pipe": [
        {
          "op": "first"
        },
        {
          "op": "get",
          "field": "content"
        },
        {
          "op": "default",
          "value": "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"
        }
      ]
    },
    "#chess_board": {
      "kinds": [
        32616
      ],
      "authors": [
        "2e6ad883d5a134a6fb3f0de9063ab170deeb805592bba90ac7351cf3920bbbd0"
      ],
      "#d": [
        "chess-board"
      ],
      "limit": 1,
      "pipe": [
        {
          "op": "first"
        }
      ]
    }
  },
  "events": {
    "@make_move": {
      "kind": 25910,
      "json": {
        "jsonrpc": "2.0",
        "id": "{time.now}",
        "method": "tools/call",
        "params": {
          "name": "make_move",
          "arguments": {
            "move": "{form.move}"
          }
        }
      },
      "tags": [
        [
          "p",
          "2e6ad883d5a134a6fb3f0de9063ab170deeb805592bba90ac7351cf3920bbbd0"
        ]
      ]
    },
    "@new_game": {
      "kind": 25910,
      "json": {
        "jsonrpc": "2.0",
        "id": "{time.now}",
        "method": "tools/call",
        "params": {
          "name": "new_game",
          "arguments": {}
        }
      },
      "tags": [
        [
          "p",
          "2e6ad883d5a134a6fb3f0de9063ab170deeb805592bba90ac7351cf3920bbbd0"
        ]
      ]
    }
  }
}
